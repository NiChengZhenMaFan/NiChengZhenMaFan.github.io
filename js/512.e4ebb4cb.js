"use strict";(self["webpackChunkjd"]=self["webpackChunkjd"]||[]).push([[512],{3001:function(s,e,o){o.d(e,{Z:function(){return g},z:function(){return p}});var r=o(3396),t=o(7139);const n={class:"toast"};function a(s,e,o,a,i,d){return(0,r.wg)(),(0,r.iD)("div",n,(0,t.zw)(o.message),1)}var i=o(4870),d={name:"Toast",props:["message"]};const p=()=>{const s=(0,i.qj)({isShow:!1,toastMessage:""}),e=(e,o=2e3)=>{s.isShow=!0,s.toastMessage=e,setTimeout((()=>{s.isShow=!1,s.toastMessage=""}),o)},{isShow:o,toastMessage:r}=(0,i.BK)(s);return{isShow:o,toastMessage:r,showToast:e}};var c=o(89);const _=(0,c.Z)(d,[["render",a],["__scopeId","data-v-71af37fd"]]);var g=_},2512:function(s,e,o){o.r(e),o.d(e,{default:function(){return M}});var r=o(3396),t=o(9242);const n=s=>((0,r.dD)("data-v-4fbe4717"),s=s(),(0,r.Cn)(),s),a={class:"register"},i=n((()=>(0,r._)("div",{class:"register__img"},[(0,r._)("img",{src:" https://markdown-1253389072.cos.ap-nanjing.myqcloud.com/202202221429453.png",alt:"",class:"register__img__img"})],-1))),d={class:"register__input"},p={class:"register__button"},c={class:"register__help"};function _(s,e,o,n,_,g){const u=(0,r.up)("Toast");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",a,[i,(0,r._)("div",d,[(0,r.wy)((0,r._)("input",{placeholder:"请输入手机号",type:"text",class:"register__input__item register__input__username","onUpdate:modelValue":e[0]||(e[0]=s=>n.phone=s)},null,512),[[t.nr,n.phone]]),(0,r.wy)((0,r._)("input",{placeholder:"请输入密码",type:"password",class:"register__input__item register__input__password","onUpdate:modelValue":e[1]||(e[1]=s=>n.password=s)},null,512),[[t.nr,n.password]]),(0,r.wy)((0,r._)("input",{placeholder:"确认密码",type:"password",class:"register__input__item register__input__confirm-password","onUpdate:modelValue":e[2]||(e[2]=s=>n.confirmPassword=s)},null,512),[[t.nr,n.confirmPassword]])]),(0,r._)("div",p,[(0,r._)("button",{onClick:e[3]||(e[3]=(...s)=>n.handleregister&&n.handleregister(...s)),class:"register__button__register"}," 注册 ")]),(0,r._)("div",c,[(0,r._)("a",{href:"javascript:;",onClick:e[4]||(e[4]=(...s)=>n.goLogin&&n.goLogin(...s)),class:"register__help__a"},"已有帐号去登陆")])]),(0,r.wy)((0,r.Wm)(u,{message:n.toastMessage},null,8,["message"]),[[t.F8,n.isShow]])],64)}var g=o(4870),u=o(2483),l=o(4471),w=o(3001);const h=s=>{const e=(0,g.qj)({phone:"",password:"",confirmPassword:""}),o=(0,u.tv)(),r=async()=>{try{if(""==e.phone)return void s("手机号不能为空!!!");if(e.password!==e.confirmPassword)return void s("密码不一致!!!");if(""==e.password)return void s("密码不能为空!!!");const r=await(0,l.v)("/user/register",{phong:e.phone,password:e.password});"000"==r.data.code?(s("注册成功!!!"),setTimeout((()=>{o.push({name:"Login"})}),2e3)):s("登陆失败,用户名或密码不正确!!!")}catch(r){s("发送请求失败!!!"),console.log(r)}},{phone:t,password:n,confirmPassword:a}=(0,g.BK)(e);return{phone:t,password:n,confirmPassword:a,handleregister:r}},m=()=>{const s=(0,u.tv)(),e=()=>{s.push({name:"Login"})};return{goLogin:e}};var f={name:"register",components:{Toast:w.Z},setup(){const{isShow:s,toastMessage:e,showToast:o}=(0,w.z)(),{phone:r,password:t,confirmPassword:n,handleregister:a}=h(o),{goLogin:i}=m();return{handleregister:a,goLogin:i,phone:r,password:t,confirmPassword:n,isShow:s,toastMessage:e}}},v=o(89);const y=(0,v.Z)(f,[["render",_],["__scopeId","data-v-4fbe4717"]]);var M=y}}]);
//# sourceMappingURL=512.e4ebb4cb.js.map