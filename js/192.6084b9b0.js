"use strict";(self["webpackChunkjd"]=self["webpackChunkjd"]||[]).push([[192],{3001:function(s,o,e){e.d(o,{Z:function(){return c},z:function(){return _}});var n=e(3396),a=e(7139);const t={class:"toast"};function i(s,o,e,i,r,l){return(0,n.wg)(),(0,n.iD)("div",t,(0,a.zw)(e.message),1)}var r=e(4870),l={name:"Toast",props:["message"]};const _=()=>{const s=(0,r.qj)({isShow:!1,toastMessage:""}),o=(o,e=2e3)=>{s.isShow=!0,s.toastMessage=o,setTimeout((()=>{s.isShow=!1,s.toastMessage=""}),e)},{isShow:e,toastMessage:n}=(0,r.BK)(s);return{isShow:e,toastMessage:n,showToast:o}};var g=e(89);const p=(0,g.Z)(l,[["render",i],["__scopeId","data-v-71af37fd"]]);var c=p},192:function(s,o,e){e.r(o),e.d(o,{default:function(){return j}});var n=e(3396),a=e(9242);const t=s=>((0,n.dD)("data-v-246cefd4"),s=s(),(0,n.Cn)(),s),i={class:"login"},r=t((()=>(0,n._)("div",{class:"login__img"},[(0,n._)("img",{src:" https://markdown-1253389072.cos.ap-nanjing.myqcloud.com/202202221429453.png",alt:"",class:"login__img__img"})],-1))),l={class:"login__input"},_={class:"login__button"},g={class:"login__help"},p=t((()=>(0,n._)("span",{class:"login__help__gap"},"|",-1))),c=t((()=>(0,n._)("a",{href:"javascript:;",class:"login__help__a"},"忘记密码",-1)));function d(s,o,e,t,d,u){const h=(0,n.up)("Toast");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",i,[r,(0,n._)("div",l,[(0,n.wy)((0,n._)("input",{placeholder:"请输入手机号",type:"text",class:"login__input__item login__input__username","onUpdate:modelValue":o[0]||(o[0]=s=>t.phone=s)},null,512),[[a.nr,t.phone]]),(0,n.wy)((0,n._)("input",{placeholder:"请输入密码",type:"password",class:"login__input__item login__input__password","onUpdate:modelValue":o[1]||(o[1]=s=>t.password=s)},null,512),[[a.nr,t.password]])]),(0,n._)("div",_,[(0,n._)("button",{onClick:o[2]||(o[2]=(...s)=>t.handleLogin&&t.handleLogin(...s)),class:"login__button__login"},"登录")]),(0,n._)("div",g,[(0,n._)("a",{href:"javascript:;",onClick:o[3]||(o[3]=(...s)=>t.goRegister&&t.goRegister(...s)),class:"login__help__a"},"立即注册"),p,c])]),(0,n.wy)((0,n.Wm)(h,{message:t.toastMessage},null,8,["message"]),[[a.F8,t.isShow]])],64)}var u=e(4870),h=e(2483),w=e(4471),m=e(3001);const v=s=>{const o=(0,u.qj)({phone:"",password:""}),e=(0,h.tv)(),n=async()=>{try{if(""==o.phone)return void s("手机号不能为空!!!");if(""==o.password)return void s("密码不能为空!!!");const n=await(0,w.v)("/user/login",{phong:o.phone,password:o.password});"000"==n.data.code?(localStorage.setItem("isLogin","true"),localStorage.setItem("userId",n.data.data.id),e.push({name:"Home"})):s("登陆失败,用户名或密码不正确!!!")}catch(n){s("发送请求失败!!!")}},{phone:a,password:t}=(0,u.BK)(o);return{phone:a,password:t,handleLogin:n}},f=()=>{const s=(0,h.tv)(),o=()=>{s.push({name:"Register"})};return{goRegister:o}};var S={components:{Toast:m.Z},name:"Login",setup(){const{isShow:s,toastMessage:o,showToast:e}=(0,m.z)(),{phone:n,password:a,handleLogin:t}=v(e),{goRegister:i}=f();return{handleLogin:t,goRegister:i,phone:n,password:a,isShow:s,toastMessage:o}}},y=e(89);const M=(0,y.Z)(S,[["render",d],["__scopeId","data-v-246cefd4"]]);var j=M}}]);
//# sourceMappingURL=192.6084b9b0.js.map