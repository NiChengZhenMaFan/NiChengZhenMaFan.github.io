"use strict";(self["webpackChunkjd"]=self["webpackChunkjd"]||[]).push([[723],{1723:function(t,_,e){e.r(_),e.d(_,{default:function(){return Q}});var a=e(3396),i=e(7139);const o=t=>((0,a.dD)("data-v-1570b5e3"),t=t(),(0,a.Cn)(),t),s={class:"container"},r={class:"container__top"},c={class:"container__top__header"},n=o((()=>(0,a._)("div",{class:"container__top__header__title"},"确认订单",-1))),l=(0,a.uE)('<div class="container__top__receiver" data-v-1570b5e3><div class="container__top__receiver__left" data-v-1570b5e3><div class="container__top__receiver__left__title" data-v-1570b5e3>收货地址</div><div class="container__top__receiver__left__address" data-v-1570b5e3> 北京理工大学国防科技园2号楼10层 </div><div class="container__top__receiver__left__info" data-v-1570b5e3><span class="container__top__receiver__left__info__name" data-v-1570b5e3> 瑶妹（先生） </span><span class="container__top__receiver__left__info__phone" data-v-1570b5e3> 18911024266 </span></div></div><div class="container__top__receiver__right iconfont" data-v-1570b5e3></div></div>',1),d={class:"container__order"},m={class:"container__order__shop-name"},p={class:"container__order__info"},u=["src"],v={class:"container__order__info__item__text"},f={class:"container__order__info__item__text__title"},k={class:"container__order__info__item__text__price"},w={class:"container__order__info__item__text__price__left"},b={class:"container__order__info__item__text__price__right"},h=["src"],L={class:"container__order__info__item__text"},g={class:"container__order__info__item__text__title"},M={class:"container__order__info__item__text__price"},D={class:"container__order__info__item__text__price__left"},C={class:"container__order__info__item__text__price__right"},z={class:"container__bottom"},x={class:"container__bottom__left"},y=(0,a.Uk)(" 实付金额"),j={class:"container__bottom__left__total-price"},S=o((()=>(0,a._)("div",{class:"container__mask__middle iconfont"},"",-1))),I=o((()=>(0,a._)("div",{class:"container__mask__bottom"},"支付成功, 等待配送",-1)));function N(t,_,e,o,N,O){const P=(0,a.up)("Mask");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",r,[(0,a._)("div",c,[(0,a._)("div",{onClick:_[0]||(_[0]=t=>o.router.back()),class:"container__top__header__back iconfont"},"  "),n]),l]),(0,a._)("div",d,[(0,a._)("div",m,(0,i.zw)(o.shopName),1),(0,a._)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Object.keys(o.cartList).slice(0,2),(t=>((0,a.wg)(),(0,a.iD)("div",{key:o.cartList[t].id,class:"container__order__info__item"},[(0,a._)("img",{src:o.cartList[t].imgUrl,alt:"",class:"container__order__info__item__img"},null,8,u),(0,a._)("div",v,[(0,a._)("div",f,(0,i.zw)(o.cartList[t].name),1),(0,a._)("div",k,[(0,a._)("span",w,(0,i.zw)(o.cartList[t].promotionPrice)+" ✖ "+(0,i.zw)(o.cartList[t].count),1),(0,a._)("span",b,(0,i.zw)((o.cartList[t].promotionPrice*o.cartList[t].count).toFixed(2)),1)])])])))),128)),o.showMore?(0,a.kq)("",!0):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(Object.keys(o.cartList).slice(2),(t=>((0,a.wg)(),(0,a.iD)("div",{key:o.cartList[t].id,class:"container__order__info__item"},[(0,a._)("img",{src:o.cartList[t].imgUrl,alt:"",class:"container__order__info__item__img"},null,8,h),(0,a._)("div",L,[(0,a._)("div",g,(0,i.zw)(o.cartList[t].name),1),(0,a._)("div",M,[(0,a._)("span",D,(0,i.zw)(o.cartList[t].promotionPrice)+" ✖ "+(0,i.zw)(o.cartList[t].count),1),(0,a._)("span",C,(0,i.zw)((o.cartList[t].promotionPrice*o.cartList[t].count).toFixed(2)),1)])])])))),128)),o.showMore&&Object.keys(o.cartList).length>2?((0,a.wg)(),(0,a.iD)("div",{key:1,onClick:_[1]||(_[1]=t=>o.showMore=!o.showMore),class:"container__order__info__more iconfont"}," 共计"+(0,i.zw)(Object.keys(o.cartList).length)+"种/"+(0,i.zw)(o.sumNumber)+"件  ",1)):(0,a.kq)("",!0)])]),(0,a._)("div",z,[(0,a._)("div",x,[y,(0,a._)("span",j," ￥"+(0,i.zw)(o.sumPrice),1)]),(0,a._)("div",{onClick:_[2]||(_[2]=t=>o.defaultData.showMask=!0),class:"container__bottom__right"}," 提交订单 ")]),o.defaultData.showMask?((0,a.wg)(),(0,a.j4)(P,{key:0,onCloseMaskClick:_[3]||(_[3]=t=>o.defaultData.showMask=!1),onConfirmSubmit:o.confirmSubmit,defaultData:o.defaultData},null,8,["onConfirmSubmit","defaultData"])):(0,a.kq)("",!0),o.showMask?((0,a.wg)(),(0,a.j4)(P,{key:1},{top:(0,a.w5)((()=>[(0,a._)("div",{onClick:_[4]||(_[4]=(...t)=>o.toOrderList&&o.toOrderList(...t)),class:"container__mask__top iconfont"},"  ")])),middle:(0,a.w5)((()=>[S])),bottom:(0,a.w5)((()=>[I])),_:1})):(0,a.kq)("",!0)])}var O=e(4870),P=e(2483),q=e(65);const H={class:"mask"},W={class:"mask__prompt-panel"},$={class:"mask__prompt-panel__title"},F={class:"mask__prompt-panel__message"},U={class:"mask__prompt-panel__button"};function K(t,_,e,o,s,r){return(0,a.wg)(),(0,a.iD)("div",H,[(0,a.WI)(t.$slots,"background",{},(()=>[(0,a._)("div",{onClick:_[0]||(_[0]=(...t)=>o.closeMaskClick&&o.closeMaskClick(...t)),class:"mask__background"})]),!0),(0,a._)("div",W,[(0,a.WI)(t.$slots,"top",{},(()=>[(0,a._)("div",$,(0,i.zw)(e.defaultData.title),1)]),!0),(0,a.WI)(t.$slots,"middle",{},(()=>[(0,a._)("div",F,(0,i.zw)(e.defaultData.message),1)]),!0),(0,a.WI)(t.$slots,"bottom",{},(()=>[(0,a._)("div",U,[(0,a._)("div",{onClick:_[1]||(_[1]=(...t)=>o.closeMaskClick&&o.closeMaskClick(...t)),class:"mask__prompt-panel__button__cancel"},(0,i.zw)(e.defaultData.cancel),1),(0,a._)("div",{onClick:_[2]||(_[2]=(...t)=>o.confirmSubmit&&o.confirmSubmit(...t)),class:"mask__prompt-panel__button__confirm"},(0,i.zw)(e.defaultData.confirm),1)])]),!0)])])}var R={name:"Mask",props:["defaultData"],setup(t,_){const e=()=>{_.emit("closeMaskClick")},a=()=>{_.emit("confirmSubmit")};return{closeMaskClick:e,confirmSubmit:a}}},Y=e(89);const Z=(0,Y.Z)(R,[["render",K],["__scopeId","data-v-6388b989"]]);var E=Z;const A=()=>{const t=(0,P.yj)(),_=(0,q.oR)(),e=_.state.cartData,a=t.params.shopId,i=e[a].shopName,o=e[a].itemList;let s=0,r=0;for(const n in o)s+=o[n].count*o[n].promotionPrice,r+=o[n].count;s=s.toFixed(2);let c=(0,O.iH)(!0);return{shopName:i,cartList:o,sumPrice:s,showMore:c,sumNumber:r}},B=()=>{const t=(0,q.oR)(),_=(0,P.yj)(),e=(0,P.tv)(),a=_.params.shopId,i=(0,O.qj)({title:"确认要离开收银台?",message:"请尽快完成支付,否则将被取消",cancel:"取消订单",confirm:"确认支付",showMask:!1}),o=(0,O.iH)(!1),s=()=>{i.showMask=!1,o.value=!0,t.commit("clearCart",{shopId:a})},r=()=>{o.value=!1,e.push({name:"orderList"})};return{defaultData:i,showMask:o,confirmSubmit:s,toOrderList:r}};var G={components:{Mask:E},name:"orderConfirmation",setup(){const t=(0,P.tv)(),{shopName:_,cartList:e,sumPrice:a,showMore:i,sumNumber:o}=A(),{defaultData:s,showMask:r,confirmSubmit:c,toOrderList:n}=B();return{router:t,shopName:_,cartList:e,sumPrice:a,showMore:i,sumNumber:o,defaultData:s,showMask:r,confirmSubmit:c,toOrderList:n}}};const J=(0,Y.Z)(G,[["render",N],["__scopeId","data-v-1570b5e3"]]);var Q=J}}]);
//# sourceMappingURL=723.96bbb7f0.js.map